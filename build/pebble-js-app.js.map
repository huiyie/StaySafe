{"version":3,"sources":["webpack/bootstrap 6e80c4cf80dd9c24142c","/Users/huiyie/Library/Application Support/Pebble SDK/SDKs/4.3/sdk-core/pebble/common/include/_pkjs_shared_additions.js","./src/pkjs/index.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;ACtCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA,EAAC;;;;;;;ACnBD,wBAAuB,mC;;AAEvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B;;AAE7B;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAiC,qDAAqD;AACtF,oCAAmC,8DAA8D;AACjG;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,0BAAyB,wCAAwC;AACjE;;AAEA;AACA;AACA,EAAC,E","file":"pebble-js-app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6e80c4cf80dd9c24142c","(function(p) {\n  if (!p === undefined) {\n    console.error('Pebble object not found!?');\n    return;\n  }\n\n  // Aliases:\n  p.on = p.addEventListener;\n  p.off = p.removeEventListener;\n\n  // For Android (WebView-based) pkjs, print stacktrace for uncaught errors:\n  if (typeof window !== 'undefined' && window.addEventListener) {\n    window.addEventListener('error', function(event) {\n      if (event.error && event.error.stack) {\n        console.error('' + event.error + '\\n' + event.error.stack);\n      }\n    });\n  }\n\n})(Pebble);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/huiyie/Library/Application Support/Pebble SDK/SDKs/4.3/sdk-core/pebble/common/include/_pkjs_shared_additions.js\n// module id = 1\n// module chunks = 0","var locationOptions = {timeout: 15000, maximumAge: 60000}; \n\nfunction fetch_crime_prediction_data(pos) {\n\tvar neighbourhoods = [\n\t\t'Central Business District',\n\t\t'Oakridge',\n\t\t'Grandview-Woodland',\n\t\t'West-End',\n\t\t'Fairview',\n\t\t'Hastings-Sunrise',\n\t\t'Strathcona',\n\t\t'Stanley Park',\n\t\t'Marpole',\n\t\t'Renfrew-Collingwood',\n\t\t'Kitsilano',\n\t\t'Mount Pleasant',\n\t\t'Sunset',\n\t\t'Dunbar-Southlands',\n\t\t'Victoria-Fraserview',\n\t\t'Killarney',\n\t\t'Riley Park',\n\t\t'Kensington-Cedar Cottage',\n\t\t'West Point Grey',\n\t\t'South Cambie',\n\t\t'Shaughnessy',\n\t\t'Kerrisdale',\n\t\t'Arbutus Ridge',\n\t\t'Musqueam'\n\t];\n}\n\nfunction fetch_location_data(pos) {\n  var req = new XMLHttpRequest(),\n      version = Date.now(),\n      clientId = 'JQRPOLMFUZU0UDFMRMRESL31XPZC2PLF23KP123OJYYKD2ZB',\n      clientSecret = 'D2AMQXT11FC0WTBGHMRNIICB0Q5YULP5JJZ2EYT1SCISDSOL',\n      //latitude = pos.coords.latitude, // latitude for Robson Street\n      latitude = 49.28337;\n      //longitude = pos.coords.longitude;\n      longitude = -123.12074; // longitude for Robson Street\n\n  req.open('GET', 'https://api.foursquare.com/v2/venues/search?client_id=' + clientId + '&client_secret=' + clientSecret + '&v=' + version + '&ll=' + latitude + ',' + longitude + '&openNow=1', true);\n  //req.open('GET', 'https://api.foursquare.com/v2/venues/search?client_id=' + clientId + '&client_secret=' + clientSecret + '&v=' + version + '&ll=' + latitude + ',' + longitude + '&query=starbucks', true);\n  \n  req.onload = function(e) {\n    if (req.readyState == 4 && req.status == 200) {\n      if (req.status == 200) {\n        var response = JSON.parse(req.responseText);\n\n        if (response && response.meta.code == '200' && response.response) {\n          var venue = response.response.venues[0];\n          Pebble.sendAppMessage({location: venue.name + ', ' + venue.location.address});\n          //Pebble.sendAppMessage({location: venue.location.address + ', ' + venue.location.city});\n        }\n      } else {\n        console.log('Error');\n      }\n    }\n  }\n\n  req.send(null);\n}\n\nfunction fetch_location_error(err) {\n  console.log(err);\n  Pebble.sendAppMessage({location: 'Unable to retrieve location'});\n}\n\nPebble.addEventListener('ready', function(e) {\n  locationWatcher = window.navigator.geolocation.watchPosition(fetch_location_data, fetch_location_error, locationOptions);\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pkjs/index.js\n// module id = 2\n// module chunks = 0"],"sourceRoot":""}